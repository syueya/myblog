(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{1071:function(t,s,e){"use strict";e.r(s);var a=e(11),l=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("octopus是个为个人打造的 LLM API 聚合和负载平衡服务。")]),t._v(" "),s("p",[t._v("官方文档：https://github.com/bestruirui/octopus")]),t._v(" "),s("h2",{attrs:{id:"docker部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker部署"}},[t._v("#")]),t._v(" docker部署")]),t._v(" "),s("p",[s("strong",[t._v("1、compose文件")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("services:\n  octopus:\n    image: bestrui/octopus\n    container_name: octopus\n    restart: unless-stopped\n    ports:\n       - 8080:8080 # 冒号前面的8080可以改成未被占用的\n    volumes:      \n       - ./data:/app/data\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[s("strong",[t._v("2、配置项")])]),t._v(" "),s("p",[t._v("配置文件默认位于 data/config.json ，并在首次启动时自动生成。所有配置选项也可以通过环境变量覆盖，格式为 OCTOPUS_ + 配置路径（用 _ 连接）：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("配置项")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("环境变量")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("配置文件")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("默认值")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("监听地址")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_SERVER_HOST")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("server.host")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("0.0.0.0")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("服务器端口")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_SERVER_PORT")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("server.port")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("8080")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库类型")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_DATABASE_TYPE")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("database.type")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("sqlite")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("数据库连接地址")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_DATABASE_PATH")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("database.path")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("data/data.db")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("日志级别")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_LOG_LEVEL")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("log.level")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("info")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("用于在获取最新版本时限制速率（可选）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_GITHUB_PAT")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("最大 SSE 事件大小（可选）")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("OCTOPUS_RELAY_MAX_SSE_EVENT_SIZE")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}})])])]),t._v(" "),s("p",[s("strong",[t._v("3、数据库")])]),t._v(" "),s("p",[t._v("支持三种数据库类型：SQLite（默认，不需额外配置）、MySQL、PostgreSQL。")]),t._v(" "),s("ul",[s("li",[t._v("SQLite是默认数据库，不需要额外配置。")]),t._v(" "),s("li",[t._v("MySQL和PostgreSQL需要手动创建数据库。应用程序将自动创建表格结构。")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('# 默认SQLite 配置示例\n{\n  "database": {\n    "type": "sqlite",\n    "path": "data/data.db"\n  }\n}\n\n\n# MySQL 配置示例\n{\n  "database": {\n    "type": "mysql",\n    "path": "root:password@tcp(127.0.0.1:3306)/octopus"\n  }\n}\n\n# PostgreSQL 配置示例：\n{\n  "database": {\n    "type": "postgres",\n    "path": "postgresql://user:password@localhost:5432/octopus?sslmode=disable"\n  }\n}\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("h2",{attrs:{id:"基础设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础设置"}},[t._v("#")]),t._v(" 基础设置")]),t._v(" "),s("p",[t._v("首次启动后，使用IP:端口访问页面，使用默认的用户名admin，密码 admin 登录管理面板：")]),t._v(" "),s("p",[s("img",{attrs:{src:e(869),alt:"img"}})]),t._v(" "),s("p",[t._v("登陆成功后，点击设置页面，在账户设置栏修改用户名和密码。如果需要使用域名登陆，还得在系统栏设置CORS跨域白名单，否则登陆会提示"),s("code",[t._v("登录失败,请检查登录凭据")]),t._v("。如果在其他地方比如沉浸式翻译配置有这样的报错："),s("code",[t._v("服务返回错误， 暂时没有权限访问该服务。403: fetchError")]),t._v("，也是要设置这个。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(870),alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"渠道"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渠道"}},[t._v("#")]),t._v(" 渠道")]),t._v(" "),s("p",[t._v("1、点击渠道菜单，会展示所有的渠道。右上角的+按钮可以添加新的渠道。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(871),alt:"img"}})]),t._v(" "),s("p",[t._v("2、添加渠道")]),t._v(" "),s("ul",[s("li",[t._v("填写渠道名称，选择渠道类型")]),t._v(" "),s("li",[t._v("填写渠道的地址和 API 密钥。")]),t._v(" "),s("li",[t._v("输入模型名称或者点击刷新按钮获取模型列表")]),t._v(" "),s("li",[t._v("高级设置和要不要使用代理看需求")]),t._v(" "),s("li",[t._v("点击创建按钮")])]),t._v(" "),s("p",[s("img",{attrs:{src:e(872),alt:"img"}})]),t._v(" "),s("p",[t._v("3、渠道类型及请求路径")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("渠道类型")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("自动附加路径")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Base URL")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("完整请求 URL 示例")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("OpenAI Chat")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/chat/completions")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.openai.com/v1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.openai.com/v1/chat/completions")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("OpenAI Responses")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/responses")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.openai.com/v1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.openai.com/v1/responses")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Anthropic")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/messages")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.anthropic.com/v1")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://api.anthropic.com/v1/messages")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("Gemini")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("/models/:model:generateContent")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://generativelanguage.googleapis.com/v1beta")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent")])])])]),t._v(" "),s("h2",{attrs:{id:"分组"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分组"}},[t._v("#")]),t._v(" 分组")]),t._v(" "),s("p",[t._v("分组用于将多个渠道聚合为一个统一的对外模型名称。")]),t._v(" "),s("p",[t._v("核心概念:")]),t._v(" "),s("ul",[s("li",[t._v("分组名称即程序对外暴露的模型名称")]),t._v(" "),s("li",[t._v("调用API时，将请求中的model参数设置为分组名称即可")])]),t._v(" "),s("p",[t._v("1、点击组菜单，会展示所有的组。右上角的+按钮可以添加新的组。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(873),alt:"img"}})]),t._v(" "),s("p",[t._v("2、添加组")]),t._v(" "),s("ul",[s("li",[t._v("填写分组名称，可以留空按分组名称模糊匹配，设置首字超时时间（单位秒）")]),t._v(" "),s("li",[t._v("选择负载均衡模式")]),t._v(" "),s("li",[t._v("点击自动添加按钮，系统会自动将所有可用的模型添加到已选模型中")]),t._v(" "),s("li",[t._v("点击创建按钮\n"),s("img",{attrs:{src:e(874),alt:"img"}})])]),t._v(" "),s("blockquote",[s("p",[s("strong",[t._v("负载平衡模式")]),t._v("：")]),t._v(" "),s("ul",[s("li",[t._v("轮询：每次请求依次切换到下一个渠道")]),t._v(" "),s("li",[t._v("随机：每次请求随机选择一个可用渠道")]),t._v(" "),s("li",[t._v("加权分配：根据渠道设置的权重比例分配请求")]),t._v(" "),s("li",[t._v("故障转移：优先使用高优先级渠道，仅当其故障时才切换到低优先级渠道")])])]),t._v(" "),s("h2",{attrs:{id:"日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#日志"}},[t._v("#")]),t._v(" 日志")]),t._v(" "),s("p",[t._v("可以点击日志菜单查看所有请求的日志。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(875),alt:"img"}})]),t._v(" "),s("h2",{attrs:{id:"api密钥"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api密钥"}},[t._v("#")]),t._v(" API密钥")]),t._v(" "),s("p",[t._v("在设置菜单里找到API密钥栏，可以添加密钥。也可以使用密钥来登陆octopus查看该密钥的使用情况~")]),t._v(" "),s("p",[s("img",{attrs:{src:e(876),alt:"img"}})]),t._v(" "),s("p",[t._v("然后就可以在CherryStuido、Kelivo等软件里使用Octopus了。")]),t._v(" "),s("p",[s("img",{attrs:{src:e(877),alt:"img"}})])])}),[],!1,null,null,null);s.default=l.exports},869:function(t,s,e){t.exports=e.p+"assets/img/octopus-01.da3e4882.png"},870:function(t,s,e){t.exports=e.p+"assets/img/octopus-02.04d407a5.png"},871:function(t,s,e){t.exports=e.p+"assets/img/octopus-03.aa71aa50.png"},872:function(t,s,e){t.exports=e.p+"assets/img/octopus-04.c26c0a72.png"},873:function(t,s,e){t.exports=e.p+"assets/img/octopus-05.a333b06a.png"},874:function(t,s,e){t.exports=e.p+"assets/img/octopus-06.acf48010.png"},875:function(t,s,e){t.exports=e.p+"assets/img/octopus-07.cf841768.png"},876:function(t,s,e){t.exports=e.p+"assets/img/octopus-08.e300c38c.png"},877:function(t,s,e){t.exports=e.p+"assets/img/octopus-09.c417c26b.png"}}]);