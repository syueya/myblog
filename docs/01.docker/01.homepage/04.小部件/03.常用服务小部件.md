---
title: 常用服务小部件
permalink: /docker/homepage/widgets/common_service
date: 2023-10-24 14:23:11
categories: 
  - docker教程
  - homepage
  - 小部件
tags: 
  - 
---
##  qBittorrent

使用与web登录相同的用户名和密码。

允许的字段：[“leech 下载中”、“download 下载”、“seed 种子”、“upload 上传”]。

```yaml
widget:
    type: qbittorrent
    url: http://qbittorrent.host.or.ip
    username: username
    password: password
```

##  Transmission

使用与web登录相同的用户名和密码。

允许的字段：[“leech 下载中”、“download 下载”、“seed 种子”、“upload 上传”]。

```yaml
widget:
    type: transmission
    url: http://transmission.host.or.ip
    username: username
    password: password
    rpcUrl: /transmission/ # Optional. Matches the value of "rpc-url" in your Transmission's settings.json file
```


## Emby

您可以在“设置Settings”>“高级Advanced”>“API密钥Api Keys”中从Emby内部创建API密钥

从v0.6.11开始，该小部件支持字段[“电影movies”、“系列series”、“剧集episodes”、“歌曲songs”]，这些块在默认情况下被禁用，但可以通过`enableBlocks`选项启用。“正在播放 ”功能（默认情况下启用）可以通过`enableNowPlaying`选项禁用。


```yaml
widget:
    type: emby
    url: http://emby.host.or.ip
    key: apikeyapikeyapikeyapikeyapikey
    enableBlocks: true # optional, defaults to false
    enableNowPlaying: true # optional, defaults to true
```

##  Jellyfin

您可以在“设置Settings”>“高级Advanced”>“API密钥Api Keys”中从Jellyfin内部创建API密钥

从v0.6.11开始，该小部件支持字段[“电影movies”、“系列series”、“剧集episodes”、“歌曲songs”]，这些块在默认情况下被禁用，但可以通过`enableBlocks`选项启用。“正在播放 ”功能（默认情况下启用）可以通过`enableNowPlaying`选项禁用。


```yaml
widget:
    type: jellyfin
    url: http://jellyfin.host.or.ip
    key: apikeyapikeyapikeyapikeyapikey
    enableBlocks: true # optional, defaults to false
    enableNowPlaying: true # optional, defaults to true
```

##  Plex

Plex的核心API在某种程度上有所限制，但支持有关库大小和活动流数量的基本信息。要获取有关活动流的更详细信息，请查看 [Plex Tautulli widget](plex-tautulli.md).

支持的字段: `["streams", "albums", "movies", "tv"]`.

```yaml
widget:
    type: plex
    url: http://plex.host.or.ip:32400
    key: mytokenhere # see https://www.plexopedia.com/plex-media-server/general/plex-token/
```

##  Jackett

Jackett在使用小部件时不能使用任何身份验证。

支持的字段: `["configured", "errored"]`.

```yaml
widget:
    type: jackett
    url: http://jackett.host.or.ip
```

##  Nginx Proxy Manager

使用用于访问web UI的相同管理员用户名和密码登录。

允许的字段：[“enabled 已启用”、“disabled 已禁用”、“total 总计”]。


```yaml
widget:
    type: npm
    url: http://npm.host.or.ip
    username: admin_username
    password: admin_password
```

##  Tailscale

您需要从Tailscale仪表板的[密钥页面](https://login.tailscale.com/admin/settings/keys)生成一个API访问令牌。

要查找您的设备ID，请转到[machine overview page](https://login.tailscale.com/admin/machines)，然后选择您的机器。在“机器详情Machine Details”部分，复制您的`ID`。它将以`CNTRL`结尾。

允许的字段有: `["address", "last_seen", "expires"]`.

```yaml
widget:
    type: tailscale
    deviceid: deviceid
    key: tailscalekey
```

##  Home Assistant

您需要为现有的Home Assistant用户在其个人资料中生成一个长期有效的访问令牌。

允许的字段有：["people_home", "lights_on", "switches_on"]。

---

最多可以通过自定义属性查询四个自定义状态和/或模板，就像下面的示例一样。只要定义了fields属性，custom属性将不起作用。

-  `state`将查询指定`entity_id`的状态
    - 状态标签和值可以由用户定义，并且可以引用花括号中的实体属性
    - 如果未定义状态标签，将默认为`"{attributes.friendly_name}"`
    - 如果未定义状态值，将默认为`"{state} {attributes.unit_of_measurement}"`
-  `template`将查询指定的模板，请参阅[Home Assistant Templating](https://www.home-assistant.io/docs/configuration/templating)
    - 如果未定义模板标签，将为空


```yaml
widget:
    type: homeassistant
    url: http://homeassistant.host.or.ip:port
    key: access_token
    custom:
        - state: sensor.total_power
        - state: sensor.total_energy_today
          label: energy today
        - template: "{{ states.switch|selectattr('state','equalto','on')|list|length }}"
          label: switches on
        - state: weather.forecast_home
          label: wind speed
          value: "{attributes.wind_speed} {attributes.wind_speed_unit}"
```