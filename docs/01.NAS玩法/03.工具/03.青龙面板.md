---
title: 青龙面板
author: 
  name: 夏夏子
  link: https://github.com/syueya
date: 2025-09-29 14:01:45
permalink: /pages/718ec4/
categories: 
  - NAS玩法
  - 工具
tags: 
  - 
---

## 1、容器创建

```
services:
  qinglong:
    image: 'whyour/qinglong:latest'
    container_name: qinglong
    restart: always
    network_mode: bridge
    ports:
      - "15700:5700"
    volumes:
      - /volume3/docker/qinglong/data:/ql/data
    environment:
      QlBaseUrl: '/' # 部署路径非必须，以斜杠开头和结尾，比如 /test/
```

## 2、初始化

1、在本地浏览器输入 ip:端口进行访问，点击开始安装

![img](./img/qinglong-05.png)

2、设置完管理员账号密码后可以点击提交

![img](./img/qinglong-06.png)

3、通知设置可以先跳过

![img](./img/qinglong-07.png)

有需要的话可以后面在系统里设置

![img](./img/qinglong-08.png)

4、点击去登录

![img](./img/qinglong-09.png)

5、输入账户密码点击登录

![img](./img/qinglong-10.png)

6、登录成功界面

![img](./img/qinglong-11.png)


## 3、使用

1、创建定时任务
点击定时任务菜单，点击右上角的创建任务。
- 名称：自定义
- 脚本：task后接脚本名称，比如：`task 1000qm.py`，如果脚本不在当前目录，比如是在login文件夹下，则是`task login/1000qm.py`
- 定时规则：5/6位cron表达式。比如每天8点：`0 8 * * *`

2、随机延迟

对于一些签到定时任务一直在一个时间点运行会很容易被发现，因此可以对任务设置个随机的延迟时间。

点击配置文件，找到RandomDelay项，把值（单位秒）改成想延迟的时间即可，比如1h内随机：`RandomDelay="3600"`.

3、自定义通知通知内容包含\n
以py文件为例，打开notify.py，找到以下内容进行更改
```
# 原始内容
lambda v: v.replace("$title", title.replace("\n", "\\n")).replace(
  "$content", content.replace("\n", "\\n")
),


# 更改后的内容
# 取消 \n 转义
lambda v: v.replace("$title", title).replace( "$content", content),
```

4、获取环境变量
以py为例：
```
import os


# 获取含关键词的环境变量列表
oleEnv = QLAPI.getEnvs({ "searchValue": "TEST" })
print(oleEnv)

# 获取指定环境变量值
oleEnv2 = os.getenv('TEST')
print(oleEnv2)

# 通过 ID 获取环境变量
oleEnv3 = QLAPI.getEnvById({ "id": 5 })
print(oleEnv3)


# 更新现有环境变量
newEnv = oleEnv3["data"]
newEnv['value'] = '55'
print(newEnv)
QLAPI.updateEnv({ "env": newEnv })


print(QLAPI.getEnvs({ "searchValue": "TEST" }))
```


