---
title: 其他compose
author: 
  name: 夏夏子
  link: https://github.com/syueya
date: 2025-09-29 14:01:47
permalink: /pages/21d20f/
categories: 
  - NAS玩法
  - 其它
tags: 
  - 
---


## mysql数据库

```
services:
  mysql:
    image: mysql:latest
    container_name: mysql
    restart: always
    ports:
      - 3306:3306
    environment:
      - MYSQL_ROOT_PASSWORD=123456  # root用户密码
    volumes:
      - TZ=Asia/Shanghai            # 设置容器时区，也可以挂载通过/etc/localtime:/etc/localtime:ro
    volumes:
      - /volume3/docker/mysql/log:/var/log/mysql            # 映射日志目录，宿主机:容器
      - /volume3/docker/mysql/data:/var/lib/mysql           # 映射数据目录，宿主机:容器

```


## gitea

```
services:
  server:
    image: gitea/gitea:latest
    container_name: gitea
    restart: always
    ports:
      - "3000:3000"
      - "22:22"
    volumes:
      - /volume3/docker/gitea:/data
      - /etc/timezone:/etc/timezone:ro
      - /etc/localtime:/etc/localtime:ro    # 让容器的时钟与宿主机时钟同步，避免时间的问题，ro是read only只读的意思
    environment:
      - USER_UID=1007                           # 用户id
      - USER_GID=10                             # 用户组id
```


## 思源笔记

```
services:
  main:
    image: b3log/siyuan
    command: ['--workspace=/siyuan/workspace', '--accessAuthCode=登录密码']
    restart: always
    user: '0:0'
    ports:
      - 6806:6806
    volumes:
      - /volume3/docker/siyuan/workspace:/siyuan/workspace
      -/volume3/docker/siyuan/workspace/stage:/opt/siyuan/stage
    environment:
      - TZ=${TimeZone}
```


## clouddrive2

```
services:
  clouddrive2:
    image: cloudnas/clouddrive2:latest
    container_name: clouddrive2  # 容器名字
    hostname: clouddrive2  # 主机名
    privileged: true  # 特权模式，必须
    restart: always  # 重启策略，可根据实际情况而选择 no/always/unless-stopped/on-failure/on-failure:3
    pid: "host"
    devices:
      - /dev/fuse:/dev/fuse # Clouddrive 使用 fuse3 来挂载云存储服务，使用fuse3在Docker容器中挂载云存储服务时，需要在主机系统上启用共享挂载
    network_mode: bridge
    ports:
      - 19798:19798
    environment:
      - TZ=Asia/Shanghai
      - CLOUDDRIVE_HOME=/Config  # 配置目录
    volumes:
      - /volume3/docker/CloudDrive2/config:/Config  # 配置
      - /volume5/Downloads/CloudDrive2:/CloudNAS:shared  # CloudNAS 就是 cd2 添加网盘后，目录都在这里面
```


## openlist

官方文档：https://doc.oplist.org/

```
services:
  openlist:
    image: 'openlistteam/openlist:latest'
    container_name: openlist
    restart: unless-stopped
    user: '0:0' # Please replace `0:0` with the actual user ID and group ID you want to use to run OpenList.
    volumes:
      - '/volume3/docker/openlist/data:/opt/openlist/data'
    ports:
      - '5244:5244'
    environment:
      - UMASK=022

```



## audiobookshelf有声书

```
services:
  audiobookshelf:
    image: advplyr/audiobookshelf:latest
    ports:
      - 13378:80
    volumes:
      - /volume3/docker/audiobookshelf/config:/config # 存放数据文件
      - /volume3/docker/audiobookshelf/audiobooks:/audiobooks # 存放有声读物文件
      - /volume3/docker/audiobookshelf/metadata:/metadata  # 存放缓存、流、封面、下载、备份和日志
      - /volume3/docker/audiobookshelf/podcasts:/podcasts # 存放播客文件

```


## navidrome音乐库

官方地址：<https://www.navidrome.org/docs/usage/configuration-options/>

```
services:
  navidrome:
    image: deluan/navidrome:latest
    user: 1000:1000 # should be owner of volumes
    ports:
      - "4533:4533"
    restart: unless-stopped
    volumes:
      - /volume2/Music:/music:ro  # 音乐文件夹，其中:ro是 read-only 的缩写，表示该目录在容器中是以只读模式挂载的
      - /volume3/docker/navidrome/data:/data  # 存储其数据库和缓存
    environment:
      # 环境变量可以按自己要求来增加
      # ND_LOGLEVEL: info  # 日志级别
      # ND_ENABLESHARING: TRUE # 启用分享功能
      # ND_ENABLEDOWNLOADS: TRUE # 启用下载
      # ND_DEFAULTDOWNLOADABLESHARE: TRUE # 默认可下载分享
      # ND_DEFAULTLANGUAGE: zh-Hans # 默认语言：简体中文
      # ND_DEFAULTTHEME: Spotify-ish # 指定默认主题
      # ND_UILOGING: Spotify-ish # 指定默认主题
      # ND_UILOGINBACKGROUNDURL: 你的背景图片网址    # 设置UI登录页面中的背景图片
      # ND_UIWELCOMEMESSAGE: 高山流水遇知音 # UI 欢迎消息
```

## reader小说阅读

```
services:
  reader:
    image: hectorqin/reader
    container_name: reader #容器名,可自行修改
    restart: always
    ports:
      - 4396:8080
    networks:
      - share_net
    volumes:
      - /volume3/docker/reader/logs:/logs #log映射目录
      - /volume3/docker/reader/storage:/storage #数据映射目录
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - READER_APP_USERLIMIT=50 #用户上限,默认50
      - READER_APP_USERBOOKLIMIT=200 #用户书籍上限,默认200
      - READER_APP_CACHECHAPTERCONTENT=true #开启缓存章节内容
      - READER_APP_INVITECODE=registercode # 注册邀请码
      - READER_APP_SECUREKEY=adminpwd  # 管理员密码
      - READER_APP_SECURE=true #开启登录鉴权，开启后将支持多用户模式   
```

说明:

- github 官网：<https://github.com/hectorqin/reader>

- 公开服务器(服务器位于日本)：<https://reader.nxnow.top>， 测试账号/密码分别为guest/guest123，也可自行创建账号添加书源，不定期删除长期未登录账号(2周)

- 书源集合 : <https://legado.aoaostar.com>

- 公众号教程汇总 : <https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MjM5MzMyMDgyMA==&action=getalbum&album_id=2397535253763801090#wechat_redirect>



## v2raya

```
services:
  v2raya:
    image: mzz2017/v2raya
    container_name: v2raya
    restart: unless-stopped
    network_mode: host
    cap_add:
      - NET_ADMIN
      - NET_RAW
    environment:
      - V2RAYA_LOG_FILE=/tmp/v2raya.log
      - V2RAYA_V2RAY_BIN=/usr/local/bin/v2ray
      - V2RAYA_NFTABLES_SUPPORT=off
      - V2RAYA_ADDRESS=0.0.0.0:2017
    volumes:
      - /volume1/docker/v2raya/config:/etc/v2raya
      - /volume1/docker/v2raya/logs:/var/log/v2raya
    devices:
      - /dev/net/tun
```

