---
title: alist
date: 
permalink: /tool/alist/
categories:
  - 工具
---

## 1、容器部署

1、在绿联Docker 界面进入镜像管理-镜像仓库，搜索框内搜索“xhofe”，回车，选中第一个“xhofe/alist”下载最新版本。

![img](./img/0101.png)

2、在本地镜像找到刚刚下载的镜像文件，点击创建容器

![img](./img/0102.png)

3、改下容器名称（方便你自己后期管理和辨识），打开“高级模式”，点“下一步”。

![img](./img/0103.png)

4、由于 alist 成功后会挂载上很多网盘，这里重启策略建议选择“容器退出时总是重启容器” 。

![img](./img/0104.png)

5、点存储空间，在docker目录下新建一个alist文件夹，再建一个data子文件夹用来存放配置文件，再点击添加挂载一个下载目录，类型都为读写。

![img](./img/0105.png)

6、点上方端口设置，把本地端口填写“5244”

![img](./img/0106.png)

7、填写完后点击下一步。检查完后点击完成。

![img](./img/0107.png)

8、点左边“容器管理”，找到你刚才创建的“alist”容器，点对应下面的“启动” 

![img](./img/0108.png)

## 2、初始化

1、在容器管理里点alist容器的“详情”，再在详情界面上方点“日志”，然后在日志里找到密码。

![img](./img/0109.png)

2、在浏览器输入 nas 的 ip:5244进入 alist页面。登录的默认用户名是“admin”；密码为刚刚找到的密码。

![img](./img/0110.png)

3、登陆完点后击管理进入管理界面。

![img](./img/0111.png)

4、点击个人资料可以修改密码。

![img](./img/0112.png)

5、点击存储-添加可以挂载云盘。

![img](./img/0113.png)

6、点击文档可以进入说明页面。

![img](./img/0114.png)

7、在说明页面可以把文字改成简体中文，然后在左方选择添加存储，可以看到挂载不同网盘的说明文档。

![img](./img/0115.png)

## 3、挂载

### 挂载绿联

填写以下内容：

![img](./img/0116.png)

挂载成功：

![img](./img/0117.png)

### 挂载百度网盘

在文档里点击刷新令牌，获取密钥等内容。

![img](./img/0118.png)

![img](./img/0119.png)

填写内容：

![img](./img/0120.png)

### 挂载阿里云盘

1、在文档里点击[刷新令牌的链接](https://alist.nn.ci/tool/aliyundrive/request)，获取二维码。

![img](./img/0121.png)

2、扫码登录获取令牌。

![img](./img/0122.png)

3、填写以下内容：

![img](./img/0123.png)

4、阿里云盘解限速方法：

- 在alist中新建存储，改旧的不行有缓存
- Oauth令牌链接写这个 <https://aliyundrive-oauth.messense.me/oauth/access_token>
- 访问这个地址取得新token并填入： <https://messense-aliyundrive-webdav-backendrefresh-token-ucs0wn.streamlit.app/>
- 保存存储 解除限速成功



### 挂载夸克网盘

从请求中获取 Cookie 和根文件夹 ID的方法：按F12打开“调试”，选中“网络”，找到一个以“sort”开头的文件即可找到。

![img](./img/0124.png)

填写以下内容：

![img](./img/0125.png)

### 挂载阿里云盘分享链接

1、首先我们找到我们想要接入的阿里云分享链接，举个例子，比如这个链接：<https://www.aliyundrive.com/s/gQZfdoexuBs>。我们所需的是gQZfdoexuBs这串代码。

![img](./img/0126.png)

2、在alist管理界面，点击存储-添加。

![img](./img/0127.png)

3、填写以下内容，然后点击添加：
- 驱动选择阿里云盘分享；
- 挂载路径填写/自己自己喜欢的路径，比如这里我填/N1-Hi6；
- 序号因为这里是我的第1个分享驱动盘，这里我填1；
- 刷新令牌填写阿里云盘的短Token；
  - 打开链接：<https://alist.nn.ci/zh/guide/drivers/aliyundrive.html>，点击获取Token。

    ![img](./img/0129.png)

  - 用手机上的阿里云盘App扫描生成的二维码，扫描完以后点击上方的“使用阿里云盘APP扫描然后点击”这个按钮，随后二维码下方会生成一串Token。

    ![img](./img/0130.png)
- 分享ID填写我们刚刚复制的那串ID（举例的是gQZfdoexuBs）

![img](./img/0128.png)

4、添加完成后我们就能看到我们挂载的阿里云盘分享链接已经出现了，状态显示work。

![img](./img/0131.png)

5、在主页也能看到链接的分享内容了。

![img](./img/0132.png)

## 4、进阶使用

### 游客访问下载

1、在管理界面点击用户，默认有个管理用户和一个关闭了的访客用户，可以对用户进行编辑，当然我们也可以点击添加添加用户。

![img](./img/0133.png)

2、用户编辑界面，可以选择可以看到的文件夹的路径，勾选一些权限和选择是否停用，编辑完后点击保存。

![img](./img/0134.png)